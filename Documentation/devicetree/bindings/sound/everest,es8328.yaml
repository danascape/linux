# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: http://devicetree.org/schemas/sound/everest,es8328.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Everest ES8328 audio CODEC

description: |
  Pins on the device (for linking into audio routes):
    * LOUT1
    * LOUT2
    * ROUT1
    * ROUT2
    * LINPUT1
    * RINPUT1
    * LINPUT2
    * RINPUT2
    * Mic Bias

maintainers:
  - Sean Cross <xobs@kosagi.com>

allOf:
  - $ref: dai-common.yaml#

properties:
  compatible:
    enum:
      - everest,es8328
      - everest,es8388

  reg:
    minItems: 1

  clocks:
    minItems: 1
    description: A 22.5792 or 11.2896 MHz clock

  clock-names:
    items:
      - const: mclk
      - const: i2c_clk
      - const: i2s_hclk

  AVDD-supply:
    description: A 3.3V supply that powers up the AVDD pin.

  DVDD-supply:
    description: A 1.8V supply that powers up the DVDD pin.

  PVDD-supply:
    description: A 1.8V to 3.6V supply that powers up the PVDD pin. 

  HPVDD-supply:
    description: A 3.3V supply that powers up the IPVDD pin/

  '#sound-dai-cells':
    const: 1

required:
  - compatible
  - DVDD-supply
  - AVDD-supply
  - PVDD-supply
  - HPVDD-supply
  - clocks
  - reg

unevaluatedProperties: false

examples:
  - |
    i2c {
      #address-cells = <1>;
      #size-cells = <0>;
      es8328: codec@11 {
        compatible = "everest,es8328";
        reg = <0x11>;
        clocks = <&clks 169>;
        DVDD-supply = <&reg_3p3v>;
        AVDD-supply = <&reg_3p3v>;
        PVDD-supply = <&reg_3p3v>;
        HPVDD-supply = <&reg_3p3v>;
      };
    };
